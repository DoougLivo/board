<!DOCTYPE html>
<html lang="en" xmlns:th>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<body>
<div class="container">
    <div>등록 페이지</div>
    <form id="writeFrm" name="writeFrm">
    <label for="title"></label><input type="text" name="title" id="title" placeholder="제목을 입력하세요"><br>
    <label for="writer"></label><input type="text" name="writer" id="writer" placeholder="작성자"><br>
    <label for="contents"></label><textarea name="contents" id="contents" placeholder="내용을 입력하세요"></textarea><br>

    <button type="button" id="writeBtn">등록</button>
    </form>
</div>
</body>
</html>
<script>
$(()=>{
    $("writeBtn").click(()=>{
        let title = $("#title").val();
		let contents = $("#contents").val();
        let frm = $("#writeFrm").serialize();
        console.log(title);
        console.log(contents);
        console.log(frm);

        if (title=="") {
            alert("제목을 입력하세요");
            $("#title").focus();
            return;
        }
         if (contents=="") {
            alert("글을 입력하세요");
            $("#contents").focus();
            return;
        }

        $.ajax({
            url:"/write/insert",
            data:frm,
            dataType:"json";
            method:"post"
        })
        .done((res)=>{
            console.log(res);
<!--            alert(res.ok);-->
            alert("글이 등록되었습니다");
            location.href="/boardList";
        })
        .fail((res, status, error)=>{
            console.log(status);
            console.log(error);
        });
    });
});
</script>